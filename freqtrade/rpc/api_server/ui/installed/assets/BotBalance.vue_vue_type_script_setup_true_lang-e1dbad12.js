import{o as R,c as se,a as B,d as sa,aC as xa,i as K,v as Ue,h as H,j as V,k as be,g as Sa,u as Ma,r as He,w as fe,b as ge,t as De,C as Ta,$ as wa,K as Aa,s as Ca,aY as Pa,y as Da}from"./index-aef5ad26.js";import{b1 as ka,bW as D,c5 as qe,J as Re,f as oa,j as Ba,bb as Fe,bm as Ia,P as Na,c6 as Ze,c7 as ke,c8 as Oa,c9 as $a,ca as he,cb as Ra,B as We,T as Ke,bw as Va,g as Be,I as G,cc as Ea,ae as Ie,cd as Ga,ce as la,cf as Ya,e as ne,cg as za,b9 as Xa,s as ie,a9 as Je,v as _e,ch as ja,af as Se,aT as Ua,Y as Ha,n as Qe,b0 as ca,_ as Ve,Z as qa,o as W,bf as de,w as Fa,x as Za,aZ as Wa,aY as Ka,aW as Ja,ci as Qa,b4 as va,be as et,C as at,b as ea,i as ua,cj as tt,ck as rt,cl as nt,S as it,cm as st,u as ot,aI as lt,aE as ct,aF as vt,aG as ut,aH as ft,aJ as gt}from"./install-b71822da.js";import{c as ht}from"./createSeriesDataSimply-d0b9e3a1.js";const dt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pt=B("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"},null,-1),mt=[pt];function yt(i,t){return R(),se("svg",dt,mt)}const bt={name:"mdi-eye",render:yt},_t={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Lt=B("path",{fill:"currentColor",d:"M11.83 9L15 12.16V12a3 3 0 0 0-3-3h-.17m-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7Z"},null,-1),xt=[Lt];function St(i,t){return R(),se("svg",_t,xt)}const Mt={name:"mdi-eye-off",render:St},Tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},wt=B("path",{fill:"currentColor",d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2M7.5 13A2.5 2.5 0 0 0 5 15.5A2.5 2.5 0 0 0 7.5 18a2.5 2.5 0 0 0 2.5-2.5A2.5 2.5 0 0 0 7.5 13m9 0a2.5 2.5 0 0 0-2.5 2.5a2.5 2.5 0 0 0 2.5 2.5a2.5 2.5 0 0 0 2.5-2.5a2.5 2.5 0 0 0-2.5-2.5Z"},null,-1),At=[wt];function Ct(i,t){return R(),se("svg",Tt,At)}const Pt={name:"mdi-robot",render:Ct};var re=Math.PI*2,U=ka.CMD,Dt=["top","right","bottom","left"];function kt(i,t,r,e,a){var o=r.width,n=r.height;switch(i){case"top":e.set(r.x+o/2,r.y-t),a.set(0,-1);break;case"bottom":e.set(r.x+o/2,r.y+n+t),a.set(0,1);break;case"left":e.set(r.x-t,r.y+n/2),a.set(-1,0);break;case"right":e.set(r.x+o+t,r.y+n/2),a.set(1,0);break}}function Bt(i,t,r,e,a,o,n,l,v){n-=i,l-=t;var u=Math.sqrt(n*n+l*l);n/=u,l/=u;var s=n*r+i,f=l*r+t;if(Math.abs(e-a)%re<1e-4)return v[0]=s,v[1]=f,u-r;if(o){var h=e;e=he(a),a=he(h)}else e=he(e),a=he(a);e>a&&(a+=re);var c=Math.atan2(l,n);if(c<0&&(c+=re),c>=e&&c<=a||c+re>=e&&c+re<=a)return v[0]=s,v[1]=f,u-r;var g=r*Math.cos(e)+i,d=r*Math.sin(e)+t,p=r*Math.cos(a)+i,m=r*Math.sin(a)+t,y=(g-n)*(g-n)+(d-l)*(d-l),b=(p-n)*(p-n)+(m-l)*(m-l);return y<b?(v[0]=g,v[1]=d,Math.sqrt(y)):(v[0]=p,v[1]=m,Math.sqrt(b))}function Le(i,t,r,e,a,o,n,l){var v=a-i,u=o-t,s=r-i,f=e-t,h=Math.sqrt(s*s+f*f);s/=h,f/=h;var c=v*s+u*f,g=c/h;l&&(g=Math.min(Math.max(g,0),1)),g*=h;var d=n[0]=i+g*s,p=n[1]=t+g*f;return Math.sqrt((d-a)*(d-a)+(p-o)*(p-o))}function fa(i,t,r,e,a,o,n){r<0&&(i=i+r,r=-r),e<0&&(t=t+e,e=-e);var l=i+r,v=t+e,u=n[0]=Math.min(Math.max(a,i),l),s=n[1]=Math.min(Math.max(o,t),v);return Math.sqrt((u-a)*(u-a)+(s-o)*(s-o))}var E=[];function It(i,t,r){var e=fa(t.x,t.y,t.width,t.height,i.x,i.y,E);return r.set(E[0],E[1]),e}function Nt(i,t,r){for(var e=0,a=0,o=0,n=0,l,v,u=1/0,s=t.data,f=i.x,h=i.y,c=0;c<s.length;){var g=s[c++];c===1&&(e=s[c],a=s[c+1],o=e,n=a);var d=u;switch(g){case U.M:o=s[c++],n=s[c++],e=o,a=n;break;case U.L:d=Le(e,a,s[c],s[c+1],f,h,E,!0),e=s[c++],a=s[c++];break;case U.C:d=$a(e,a,s[c++],s[c++],s[c++],s[c++],s[c],s[c+1],f,h,E),e=s[c++],a=s[c++];break;case U.Q:d=Oa(e,a,s[c++],s[c++],s[c],s[c+1],f,h,E),e=s[c++],a=s[c++];break;case U.A:var p=s[c++],m=s[c++],y=s[c++],b=s[c++],S=s[c++],x=s[c++];c+=1;var A=!!(1-s[c++]);l=Math.cos(S)*y+p,v=Math.sin(S)*b+m,c<=1&&(o=l,n=v);var T=(f-p)*b/y+p;d=Bt(p,m,b,S,S+x,A,T,h,E),e=Math.cos(S+x)*y+p,a=Math.sin(S+x)*b+m;break;case U.R:o=e=s[c++],n=a=s[c++];var _=s[c++],M=s[c++];d=fa(o,n,_,M,f,h,E);break;case U.Z:d=Le(e,a,o,n,f,h,E,!0),e=o,a=n;break}d<u&&(u=d,r.set(E[0],E[1]))}return u}var Y=new D,L=new D,w=new D,X=new D,z=new D;function aa(i,t){if(i){var r=i.getTextGuideLine(),e=i.getTextContent();if(e&&r){var a=i.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],n=a.candidates||Dt,l=e.getBoundingRect().clone();l.applyTransform(e.getComputedTransform());var v=1/0,u=a.anchor,s=i.getComputedTransform(),f=s&&Ia([],s),h=t.get("length2")||0;u&&w.copy(u);for(var c=0;c<n.length;c++){var g=n[c];kt(g,0,l,Y,X),D.scaleAndAdd(L,Y,X,h),L.transform(f);var d=i.getBoundingRect(),p=u?u.distance(L):i instanceof Na?Nt(L,i.path,w):It(L,d,w);p<v&&(v=p,L.transform(s),w.transform(s),w.toArray(o[0]),L.toArray(o[1]),Y.toArray(o[2]))}ga(o,t.get("minTurnAngle")),r.setShape({points:o})}}}var xe=[],k=new D;function ga(i,t){if(t<=180&&t>0){t=t/180*Math.PI,Y.fromArray(i[0]),L.fromArray(i[1]),w.fromArray(i[2]),D.sub(X,Y,L),D.sub(z,w,L);var r=X.len(),e=z.len();if(!(r<.001||e<.001)){X.scale(1/r),z.scale(1/e);var a=X.dot(z),o=Math.cos(t);if(o<a){var n=Le(L.x,L.y,w.x,w.y,Y.x,Y.y,xe,!1);k.fromArray(xe),k.scaleAndAdd(z,n/Math.tan(Math.PI-t));var l=w.x!==L.x?(k.x-L.x)/(w.x-L.x):(k.y-L.y)/(w.y-L.y);if(isNaN(l))return;l<0?D.copy(k,L):l>1&&D.copy(k,w),k.toArray(i[1])}}}}function Ot(i,t,r){if(r<=180&&r>0){r=r/180*Math.PI,Y.fromArray(i[0]),L.fromArray(i[1]),w.fromArray(i[2]),D.sub(X,L,Y),D.sub(z,w,L);var e=X.len(),a=z.len();if(!(e<.001||a<.001)){X.scale(1/e),z.scale(1/a);var o=X.dot(t),n=Math.cos(r);if(o<n){var l=Le(L.x,L.y,w.x,w.y,Y.x,Y.y,xe,!1);k.fromArray(xe);var v=Math.PI/2,u=Math.acos(z.dot(t)),s=v+u-r;if(s>=v)D.copy(k,w);else{k.scaleAndAdd(z,l/Math.tan(Math.PI/2-s));var f=w.x!==L.x?(k.x-L.x)/(w.x-L.x):(k.y-L.y)/(w.y-L.y);if(isNaN(f))return;f<0?D.copy(k,L):f>1&&D.copy(k,w)}k.toArray(i[1])}}}}function ta(i,t,r,e){var a=r==="normal",o=a?i:i.ensureState(r);o.ignore=t;var n=e.get("smooth");n&&n===!0&&(n=.3),o.shape=o.shape||{},n>0&&(o.shape.smooth=n);var l=e.getModel("lineStyle").getLineStyle();a?i.useStyle(l):o.style=l}function $t(i,t){var r=t.smooth,e=t.points;if(e)if(i.moveTo(e[0][0],e[0][1]),r>0&&e.length>=3){var a=Ze(e[0],e[1]),o=Ze(e[1],e[2]);if(!a||!o){i.lineTo(e[1][0],e[1][1]),i.lineTo(e[2][0],e[2][1]);return}var n=Math.min(a,o)*r,l=ke([],e[1],e[0],n/a),v=ke([],e[1],e[2],n/o),u=ke([],l,v,.5);i.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),i.bezierCurveTo(v[0],v[1],v[0],v[1],e[2][0],e[2][1])}else for(var s=1;s<e.length;s++)i.lineTo(e[s][0],e[s][1])}function ha(i,t,r){var e=i.getTextGuideLine(),a=i.getTextContent();if(!a){e&&i.removeTextGuideLine();return}for(var o=t.normal,n=o.get("show"),l=a.ignore,v=0;v<qe.length;v++){var u=qe[v],s=t[u],f=u==="normal";if(s){var h=s.get("show"),c=f?l:Re(a.states[u]&&a.states[u].ignore,l);if(c||!Re(h,n)){var g=f?e:e&&e.states[u];g&&(g.ignore=!0);continue}e||(e=new oa,i.setTextGuideLine(e),!f&&(l||!n)&&ta(e,!0,"normal",t.normal),i.stateProxy&&(e.stateProxy=i.stateProxy)),ta(e,!1,u,s)}}if(e){Ba(e.style,r),e.style.fill=null;var d=o.get("showAbove"),p=i.textGuideLineConfig=i.textGuideLineConfig||{};p.showAbove=d||!1,e.buildPath=$t}}function da(i,t){t=t||"labelLine";for(var r={normal:i.getModel(t)},e=0;e<Fe.length;e++){var a=Fe[e];r[a]=i.getModel([a,t])}return r}function Rt(i){if(i){for(var t=[],r=0;r<i.length;r++)t.push(i[r].slice());return t}}function Vt(i,t){var r=i.label,e=t&&t.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:Rt(e&&e.shape.points)}}var ra=["align","verticalAlign","width","height","fontSize"],N=new Ra,Ne=Se(),Et=Se();function pe(i,t,r){for(var e=0;e<r.length;e++){var a=r[e];t[a]!=null&&(i[a]=t[a])}}var me=["x","y","rotation"],Gt=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(t,r,e,a,o){var n=a.style,l=a.__hostTarget,v=l.textConfig||{},u=a.getComputedTransform(),s=a.getBoundingRect().plain();We.applyTransform(s,s,u),u?N.setLocalTransform(u):(N.x=N.y=N.rotation=N.originX=N.originY=0,N.scaleX=N.scaleY=1);var f=a.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var c=f.getComputedTransform();We.applyTransform(h,h,c)}var g=h&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:g,seriesModel:e,dataIndex:t,dataType:r,layoutOption:o,computedLayoutOption:null,rect:s,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:g&&g.ignore,x:N.x,y:N.y,scaleX:N.scaleX,scaleY:N.scaleY,rotation:N.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:a.cursor,attachedPos:v.position,attachedRot:v.rotation}})},i.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var e=t.__model,a=e.get("labelLayout");(Ke(a)||Va(a).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var n=o.getTextContent(),l=Be(o);n&&!n.disableLabelLayout&&r._addLabel(l.dataIndex,l.dataType,e,n,a)})},i.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),e=t.getHeight();function a(b,S){return function(){aa(b,S)}}for(var o=0;o<this._labelList.length;o++){var n=this._labelList[o],l=n.label,v=l.__hostTarget,u=n.defaultAttr,s=void 0;Ke(n.layoutOption)?s=n.layoutOption(Vt(n,v)):s=n.layoutOption,s=s||{},n.computedLayoutOption=s;var f=Math.PI/180;v&&v.setTextConfig({local:!1,position:s.x!=null||s.y!=null?null:u.attachedPos,rotation:s.rotate!=null?s.rotate*f:u.attachedRot,offset:[s.dx||0,s.dy||0]});var h=!1;if(s.x!=null?(l.x=G(s.x,r),l.setStyle("x",0),h=!0):(l.x=u.x,l.setStyle("x",u.style.x)),s.y!=null?(l.y=G(s.y,e),l.setStyle("y",0),h=!0):(l.y=u.y,l.setStyle("y",u.style.y)),s.labelLinePoints){var c=v.getTextGuideLine();c&&(c.setShape({points:s.labelLinePoints}),h=!1)}var g=Ne(l);g.needsUpdateLabelLine=h,l.rotation=s.rotate!=null?s.rotate*f:u.rotation,l.scaleX=u.scaleX,l.scaleY=u.scaleY;for(var d=0;d<ra.length;d++){var p=ra[d];l.setStyle(p,s[p]!=null?s[p]:u.style[p])}if(s.draggable){if(l.draggable=!0,l.cursor="move",v){var m=n.seriesModel;if(n.dataIndex!=null){var y=n.seriesModel.getData(n.dataType);m=y.getItemModel(n.dataIndex)}l.on("drag",a(v,m.getModel("labelLine")))}}else l.off("drag"),l.cursor=u.cursor}},i.prototype.layout=function(t){var r=t.getWidth(),e=t.getHeight(),a=Ea(this._labelList),o=Ie(a,function(v){return v.layoutOption.moveOverlap==="shiftX"}),n=Ie(a,function(v){return v.layoutOption.moveOverlap==="shiftY"});Ga(o,0,r),la(n,0,e);var l=Ie(a,function(v){return v.layoutOption.hideOverlap});Ya(l)},i.prototype.processLabelsOverall=function(){var t=this;ne(this._chartViewList,function(r){var e=r.__model,a=r.ignoreLabelLineUpdate,o=e.isAnimationEnabled();r.group.traverse(function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var l=!a,v=n.getTextContent();!l&&v&&(l=Ne(v).needsUpdateLabelLine),l&&t._updateLabelLine(n,e),o&&t._animateLabels(n,e)})})},i.prototype._updateLabelLine=function(t,r){var e=t.getTextContent(),a=Be(t),o=a.dataIndex;if(e&&o!=null){var n=r.getData(a.dataType),l=n.getItemModel(o),v={},u=n.getItemVisual(o,"style"),s=n.getVisual("drawType");v.stroke=u[s];var f=l.getModel("labelLine");ha(t,da(l),v),aa(t,f)}},i.prototype._animateLabels=function(t,r){var e=t.getTextContent(),a=t.getTextGuideLine();if(e&&(t.forceLabelAnimation||!e.ignore&&!e.invisible&&!t.disableLabelAnimation&&!za(t))){var o=Ne(e),n=o.oldLayout,l=Be(t),v=l.dataIndex,u={x:e.x,y:e.y,rotation:e.rotation},s=r.getData(l.dataType);if(n){e.attr(n);var h=t.prevStates;h&&(Je(h,"select")>=0&&e.attr(o.oldLayoutSelect),Je(h,"emphasis")>=0&&e.attr(o.oldLayoutEmphasis)),_e(e,u,r,v)}else if(e.attr(u),!Xa(e).valueAnimation){var f=Re(e.style.opacity,1);e.style.opacity=0,ie(e,{style:{opacity:f}},r,v)}if(o.oldLayout=u,e.states.select){var c=o.oldLayoutSelect={};pe(c,u,me),pe(c,e.states.select,me)}if(e.states.emphasis){var g=o.oldLayoutEmphasis={};pe(g,u,me),pe(g,e.states.emphasis,me)}ja(e,v,s,r,r)}if(a&&!a.ignore&&!a.invisible){var o=Et(a),n=o.oldLayout,d={points:a.shape.points};n?(a.attr({shape:n}),_e(a,{shape:d},r)):(a.setShape(d),a.style.strokePercent=0,ie(a,{style:{strokePercent:1}},r)),o.oldLayout=d}},i}();const Yt=Gt;var Oe=Se();function zt(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,r,e){var a=Oe(r).labelManager;a||(a=Oe(r).labelManager=new Yt),a.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(t,r,e){var a=Oe(r).labelManager;e.updatedSeries.forEach(function(o){a.addLabelsOfSeries(r.getViewOfSeriesModel(o))}),a.updateLayoutConfig(r),a.layout(r),a.processLabelsOverall()})}var ye=Math.PI*2,na=Math.PI/180;function pa(i,t){return Ha(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ma(i,t){var r=pa(i,t),e=i.get("center"),a=i.get("radius");Qe(a)||(a=[0,a]);var o=G(r.width,t.getWidth()),n=G(r.height,t.getHeight()),l=Math.min(o,n),v=G(a[0],l/2),u=G(a[1],l/2),s,f,h=i.coordinateSystem;if(h){var c=h.dataToPoint(e);s=c[0]||0,f=c[1]||0}else Qe(e)||(e=[e,e]),s=G(e[0],o)+r.x,f=G(e[1],n)+r.y;return{cx:s,cy:f,r0:v,r:u}}function Xt(i,t,r){t.eachSeriesByType(i,function(e){var a=e.getData(),o=a.mapDimension("value"),n=pa(e,r),l=ma(e,r),v=l.cx,u=l.cy,s=l.r,f=l.r0,h=-e.get("startAngle")*na,c=e.get("minAngle")*na,g=0;a.each(o,function(P){!isNaN(P)&&g++});var d=a.getSum(o),p=Math.PI/(d||g)*2,m=e.get("clockwise"),y=e.get("roseType"),b=e.get("stillShowZeroSum"),S=a.getDataExtent(o);S[0]=0;var x=ye,A=0,T=h,_=m?1:-1;if(a.setLayout({viewRect:n,r:s}),a.each(o,function(P,O){var C;if(isNaN(P)){a.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:v,cy:u,r0:f,r:y?NaN:s});return}y!=="area"?C=d===0&&b?p:P*p:C=ye/g,C<c?(C=c,x-=c):A+=P;var I=T+_*C;a.setItemLayout(O,{angle:C,startAngle:T,endAngle:I,clockwise:m,cx:v,cy:u,r0:f,r:y?Ua(P,S,[f,s]):s}),T=I}),x<ye&&g)if(x<=.001){var M=ye/g;a.each(o,function(P,O){if(!isNaN(P)){var C=a.getItemLayout(O);C.angle=M,C.startAngle=h+_*O*M,C.endAngle=h+_*(O+1)*M}})}else p=x/A,T=h,a.each(o,function(P,O){if(!isNaN(P)){var C=a.getItemLayout(O),I=C.angle===c?c:P*p;C.startAngle=T,C.endAngle=T+_*I,T+=_*I}})})}function jt(i){return{seriesType:i,reset:function(t,r){var e=r.findComponents({mainType:"legend"});if(!(!e||!e.length)){var a=t.getData();a.filterSelf(function(o){for(var n=a.getName(o),l=0;l<e.length;l++)if(!e[l].isSelected(n))return!1;return!0})}}}}var Ut=Math.PI/180;function ia(i,t,r,e,a,o,n,l,v,u){if(i.length<2)return;function s(d){for(var p=d.rB,m=p*p,y=0;y<d.list.length;y++){var b=d.list[y],S=Math.abs(b.label.y-r),x=e+b.len,A=x*x,T=Math.sqrt((1-Math.abs(S*S/m))*A),_=t+(T+b.len2)*a,M=_-b.label.x,P=b.targetTextWidth-M*a;ya(b,P,!0),b.label.x=_}}function f(d){for(var p={list:[],maxY:0},m={list:[],maxY:0},y=0;y<d.length;y++)if(d[y].labelAlignTo==="none"){var b=d[y],S=b.label.y>r?m:p,x=Math.abs(b.label.y-r);if(x>=S.maxY){var A=b.label.x-t-b.len2*a,T=e+b.len,_=Math.abs(A)<T?Math.sqrt(x*x/(1-A*A/T/T)):T;S.rB=_,S.maxY=x}S.list.push(b)}s(p),s(m)}for(var h=i.length,c=0;c<h;c++)if(i[c].position==="outer"&&i[c].labelAlignTo==="labelLine"){var g=i[c].label.x-u;i[c].linePoints[1][0]+=g,i[c].label.x=u}la(i,v,v+n)&&f(i)}function Ht(i,t,r,e,a,o,n,l){for(var v=[],u=[],s=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<i.length;h++){var c=i[h].label;$e(i[h])||(c.x<t?(s=Math.min(s,c.x),v.push(i[h])):(f=Math.max(f,c.x),u.push(i[h])))}for(var h=0;h<i.length;h++){var g=i[h];if(!$e(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var c=g.label,d=g.linePoints,p=void 0;g.labelAlignTo==="edge"?c.x<t?p=d[2][0]-g.labelDistance-n-g.edgeDistance:p=n+a-g.edgeDistance-d[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?c.x<t?p=s-n-g.bleedMargin:p=n+a-f-g.bleedMargin:c.x<t?p=c.x-n-g.bleedMargin:p=n+a-c.x-g.bleedMargin,g.targetTextWidth=p,ya(g,p)}}ia(u,t,r,e,1,a,o,n,l,f),ia(v,t,r,e,-1,a,o,n,l,s);for(var h=0;h<i.length;h++){var g=i[h];if(!$e(g)&&g.linePoints){var c=g.label,d=g.linePoints,m=g.labelAlignTo==="edge",y=c.style.padding,b=y?y[1]+y[3]:0,S=c.style.backgroundColor?0:b,x=g.rect.width+S,A=d[1][0]-d[2][0];m?c.x<t?d[2][0]=n+g.edgeDistance+x+g.labelDistance:d[2][0]=n+a-g.edgeDistance-x-g.labelDistance:(c.x<t?d[2][0]=c.x+g.labelDistance:d[2][0]=c.x-g.labelDistance,d[1][0]=d[2][0]+A),d[1][1]=d[2][1]=c.y}}}function ya(i,t,r){if(r===void 0&&(r=!1),i.labelStyleWidth==null){var e=i.label,a=e.style,o=i.rect,n=a.backgroundColor,l=a.padding,v=l?l[1]+l[3]:0,u=a.overflow,s=o.width+(n?0:v);if(t<s||r){var f=o.height;if(u&&u.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",t-v);var h=e.getBoundingRect();e.setStyle("width",Math.ceil(h.width)),e.setStyle("backgroundColor",n)}else{var c=t-v,g=t<s?c:r?c>i.unconstrainedWidth?null:c:null;e.setStyle("width",g)}var d=e.getBoundingRect();o.width=d.width;var p=(e.style.margin||0)+2.1;o.height=d.height+p,o.y-=(o.height-f)/2}}}function $e(i){return i.position==="center"}function qt(i){var t=i.getData(),r=[],e,a,o=!1,n=(i.get("minShowLabelAngle")||0)*Ut,l=t.getLayout("viewRect"),v=t.getLayout("r"),u=l.width,s=l.x,f=l.y,h=l.height;function c(A){A.ignore=!0}function g(A){if(!A.ignore)return!0;for(var T in A.states)if(A.states[T].ignore===!1)return!0;return!1}t.each(function(A){var T=t.getItemGraphicEl(A),_=T.shape,M=T.getTextContent(),P=T.getTextGuideLine(),O=t.getItemModel(A),C=O.getModel("label"),I=C.get("position")||O.get(["emphasis","label","position"]),Me=C.get("distanceToLabelLine"),Te=C.get("alignTo"),we=G(C.get("edgeDistance"),u),ba=C.get("bleedMargin"),oe=O.getModel("labelLine"),J=oe.get("length");J=G(J,u);var le=oe.get("length2");if(le=G(le,u),Math.abs(_.endAngle-_.startAngle)<n){ne(M.states,c),M.ignore=!0,P&&(ne(P.states,c),P.ignore=!0);return}if(g(M)){var ce=(_.startAngle+_.endAngle)/2,$=Math.cos(ce),j=Math.sin(ce),Q,ve,Ee,ue;e=_.cx,a=_.cy;var q=I==="inside"||I==="inner";if(I==="center")Q=_.cx,ve=_.cy,ue="center";else{var Ae=(q?(_.r+_.r0)/2*$:_.r*$)+e,Ce=(q?(_.r+_.r0)/2*j:_.r*j)+a;if(Q=Ae+$*3,ve=Ce+j*3,!q){var Ge=Ae+$*(J+v-_.r),Ye=Ce+j*(J+v-_.r),ze=Ge+($<0?-1:1)*le,Xe=Ye;Te==="edge"?Q=$<0?s+we:s+u-we:Q=ze+($<0?-Me:Me),ve=Xe,Ee=[[Ae,Ce],[Ge,Ye],[ze,Xe]]}ue=q?"center":Te==="edge"?$>0?"right":"left":$>0?"left":"right"}var ee=Math.PI,F=0,ae=C.get("rotate");if(ca(ae))F=ae*(ee/180);else if(I==="center")F=0;else if(ae==="radial"||ae===!0){var _a=$<0?-ce+ee:-ce;F=_a}else if(ae==="tangential"&&I!=="outside"&&I!=="outer"){var Z=Math.atan2($,j);Z<0&&(Z=ee*2+Z);var La=j>0;La&&(Z=ee+Z),F=Z-ee}if(o=!!F,M.x=Q,M.y=ve,M.rotation=F,M.setStyle({verticalAlign:"middle"}),q){M.setStyle({align:ue});var Pe=M.states.select;Pe&&(Pe.x+=M.x,Pe.y+=M.y)}else{var te=M.getBoundingRect().clone();te.applyTransform(M.getComputedTransform());var je=(M.style.margin||0)+2.1;te.y-=je/2,te.height+=je,r.push({label:M,labelLine:P,position:I,len:J,len2:le,minTurnAngle:oe.get("minTurnAngle"),maxSurfaceAngle:oe.get("maxSurfaceAngle"),surfaceNormal:new D($,j),linePoints:Ee,textAlign:ue,labelDistance:Me,labelAlignTo:Te,edgeDistance:we,bleedMargin:ba,rect:te,unconstrainedWidth:te.width,labelStyleWidth:M.style.width})}T.setTextConfig({inside:q})}}),!o&&i.get("avoidLabelOverlap")&&Ht(r,e,a,v,u,h,s,f);for(var d=0;d<r.length;d++){var p=r[d],m=p.label,y=p.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),b&&(ne(m.states,c),m.ignore=!0);var S=m.states.select;S&&(S.x+=m.x,S.y+=m.y)}if(y){var x=p.linePoints;b||!x?(ne(y.states,c),y.ignore=!0):(ga(x,p.minTurnAngle),Ot(x,p.surfaceNormal,p.maxSurfaceAngle),y.setShape({points:x}),m.__hostTarget.textGuideLineConfig={anchor:new D(x[0][0],x[0][1])})}}}var Ft=function(i){Ve(t,i);function t(r,e,a){var o=i.call(this)||this;o.z2=2;var n=new qa;return o.setTextContent(n),o.updateData(r,e,a,!0),o}return t.prototype.updateData=function(r,e,a,o){var n=this,l=r.hostModel,v=r.getItemModel(e),u=v.getModel("emphasis"),s=r.getItemLayout(e),f=W(de(v.getModel("itemStyle"),s,!0),s);if(isNaN(f.startAngle)){n.setShape(f);return}if(o){n.setShape(f);var h=l.getShallow("animationType");l.ecModel.ssr?(ie(n,{scaleX:0,scaleY:0},l,{dataIndex:e,isFrom:!0}),n.originX=f.cx,n.originY=f.cy):h==="scale"?(n.shape.r=s.r0,ie(n,{shape:{r:s.r}},l,e)):a!=null?(n.setShape({startAngle:a,endAngle:a}),ie(n,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},l,e)):(n.shape.endAngle=s.startAngle,_e(n,{shape:{endAngle:s.endAngle}},l,e))}else Fa(n),_e(n,{shape:f},l,e);n.useStyle(r.getItemVisual(e,"style")),Za(n,v);var c=(s.startAngle+s.endAngle)/2,g=l.get("selectedOffset"),d=Math.cos(c)*g,p=Math.sin(c)*g,m=v.getShallow("cursor");m&&n.attr("cursor",m),this._updateLabel(l,r,e),n.ensureState("emphasis").shape=W({r:s.r+(u.get("scale")&&u.get("scaleSize")||0)},de(u.getModel("itemStyle"),s)),W(n.ensureState("select"),{x:d,y:p,shape:de(v.getModel(["select","itemStyle"]),s)}),W(n.ensureState("blur"),{shape:de(v.getModel(["blur","itemStyle"]),s)});var y=n.getTextGuideLine(),b=n.getTextContent();y&&W(y.ensureState("select"),{x:d,y:p}),W(b.ensureState("select"),{x:d,y:p}),Wa(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,e,a){var o=this,n=e.getItemModel(a),l=n.getModel("labelLine"),v=e.getItemVisual(a,"style"),u=v&&v.fill,s=v&&v.opacity;Ka(o,Ja(n),{labelFetcher:e.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:s,defaultText:r.getFormattedLabel(a,"normal")||e.getName(a)});var f=o.getTextContent();o.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=r.get(["label","position"]);if(h!=="outside"&&h!=="outer")o.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new oa,this.setTextGuideLine(c)),ha(this,da(n),{stroke:u,opacity:Qa(l.get(["lineStyle","opacity"]),s,1)})}},t}(va),Zt=function(i){Ve(t,i);function t(){var r=i!==null&&i.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,e,a,o){var n=r.getData(),l=this._data,v=this.group,u;if(!l&&n.count()>0){for(var s=n.getItemLayout(0),f=1;isNaN(s&&s.startAngle)&&f<n.count();++f)s=n.getItemLayout(f);s&&(u=s.startAngle)}if(this._emptyCircleSector&&v.remove(this._emptyCircleSector),n.count()===0&&r.get("showEmptyCircle")){var h=new va({shape:ma(r,a)});h.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,v.add(h)}n.diff(l).add(function(c){var g=new Ft(n,c,u);n.setItemGraphicEl(c,g),v.add(g)}).update(function(c,g){var d=l.getItemGraphicEl(g);d.updateData(n,c,u),d.off("click"),v.add(d),n.setItemGraphicEl(c,d)}).remove(function(c){var g=l.getItemGraphicEl(c);et(g,r,c)}).execute(),qt(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=n)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,e){var a=e.getData(),o=a.getItemLayout(0);if(o){var n=r[0]-o.cx,l=r[1]-o.cy,v=Math.sqrt(n*n+l*l);return v<=o.r&&v>=o.r0}},t.type="pie",t}(at);const Wt=Zt;var Kt=function(){function i(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},i.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},i.prototype.getItemVisual=function(t,r){var e=this._getDataWithEncodedVisual();return e.getItemVisual(t,r)},i}();const Jt=Kt;var Qt=Se(),er=function(i){Ve(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(r){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Jt(ea(this.getData,this),ea(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ht(this,{coordDimensions:["value"],encodeDefaulter:ua(tt,this)})},t.prototype.getDataParams=function(r){var e=this.getData(),a=Qt(e),o=a.seats;if(!o){var n=[];e.each(e.mapDimension("value"),function(v){n.push(v)}),o=a.seats=rt(n,e.hostModel.get("percentPrecision"))}var l=i.prototype.getDataParams.call(this,r);return l.percent=o[r]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(r){nt(r,"labelLine",["show"]);var e=r.labelLine,a=r.emphasis.labelLine;e.show=e.show&&r.label.show,a.show=a.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(it);const ar=er;function tr(i){return{seriesType:i,reset:function(t,r){var e=t.getData();e.filterSelf(function(a){var o=e.mapDimension("value"),n=e.get(o,a);return!(ca(n)&&!isNaN(n)&&n<0)})}}}function rr(i){i.registerChartView(Wt),i.registerSeriesModel(ar),st("pie",i.registerAction),i.registerLayout(ua(Xt,"pie")),i.registerProcessor(jt("pie")),i.registerProcessor(tr("pie"))}const nr=sa({__name:"BalanceChart",props:{currencies:{required:!0,type:Array},showTitle:{required:!1,type:Boolean}},setup(i){const t=i;ot([rr,lt,ct,vt,ut,ft,zt]);const r=xa(),e=K(()=>({title:{text:"Balance",show:t.showTitle},center:["50%","50%"],backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["balance","currency","est_stake","free","used","stake"],source:t.currencies},tooltip:{trigger:"item",formatter:a=>`${Ue(a.value.balance,a.value.currency,8)}<br />${a.percent}% (${Ue(a.value.est_stake,a.value.stake)})`},series:[{type:"pie",radius:["40%","70%"],encode:{value:"est_stake",itemName:"currency",tooltip:["balance","currency"]},label:{formatter:"{b} - {d}%"},tooltip:{show:!0}}]}));return(a,o)=>i.currencies?(R(),H(V(gt),{key:0,option:e.value,theme:V(r).chartTheme,autoresize:""},null,8,["option","theme"])):be("",!0)}});const ir=Sa(nr,[["__scopeId","data-v-b9db5d4a"]]),sr={class:"mb-2"},or=B("label",{class:"me-auto h3"},"Balance",-1),lr={class:"float-end d-flex flex-row"},cr={key:0},vr=B("td",null,[B("strong",null,"Total")],-1),ur=["title"],dr=sa({__name:"BotBalance",setup(i){const t=Ma(),r=He(!0),e=He(!0),a=K(()=>Number((1.1**t.activeBot.stakeCurrencyDecimals).toFixed(8))),o=K(()=>t.activeBot.botApiVersion>=2.26),n=K(()=>{var s;return(s=t.activeBot.balance.currencies)==null?void 0:s.filter(f=>(!r.value||f.est_stake>=a.value)&&(!o.value||!e.value||(f.is_bot_managed??!0)===!0))}),l=s=>s?Ta(s,t.activeBot.stakeCurrencyDecimals):"",v=K(()=>{var s;return(s=n.value)==null?void 0:s.map(f=>({balance:e.value&&o.value&&f.bot_owned!=null?f.bot_owned:f.balance,currency:f.currency,est_stake:e.value&&o.value?f.est_stake_bot??f.est_stake:f.est_stake,free:e.value&&o.value?f.bot_owned??f.free:f.free,used:f.used,stake:f.stake}))}),u=K(()=>[{key:"currency",label:"Currency"},{key:e.value&&o.value?"bot_owned":"free",label:"Available",formatter:l},{key:e.value&&o.value?"est_stake_bot":"est_stake",label:`in ${t.activeBot.balance.stake}`,formatter:l}]);return(s,f)=>{const h=Pt,c=Pa,g=wa,d=Mt,p=bt,m=Da,y=Aa;return R(),se("div",null,[B("div",sr,[or,B("div",lr,[o.value?(R(),H(g,{key:0,size:"sm",title:e.value?"Showing Bot balance":"Showing Account balance",onClick:f[0]||(f[0]=b=>e.value=!e.value)},{default:fe(()=>[e.value?(R(),H(h,{key:0})):(R(),H(c,{key:1}))]),_:1},8,["title"])):be("",!0),ge(g,{size:"sm",title:r.value?"Show all balances":"Hide small balances",onClick:f[1]||(f[1]=b=>r.value=!r.value)},{default:fe(()=>[r.value?(R(),H(d,{key:0})):(R(),H(p,{key:1}))]),_:1},8,["title"]),ge(g,{class:"float-end",size:"sm",onClick:V(t).activeBot.getBalance},{default:fe(()=>[ge(m)]),_:1},8,["onClick"])])]),n.value?(R(),H(ir,{key:0,currencies:v.value},null,8,["currencies"])):be("",!0),B("div",null,[V(t).activeBot.balance.note?(R(),se("p",cr,[B("strong",null,De(V(t).activeBot.balance.note),1)])):be("",!0),ge(y,{class:"table-sm",items:n.value,fields:u.value},{"custom-foot":fe(()=>[vr,B("td",null,[B("span",{class:"font-italic",title:`Increase over initial capital of ${l(V(t).activeBot.balance.starting_capital)} ${V(t).activeBot.balance.stake}`},De(V(Ca)(V(t).activeBot.balance.starting_capital_ratio)),9,ur)]),B("td",null,[B("strong",null,De(e.value&&o.value?l(V(t).activeBot.balance.total_bot):l(V(t).activeBot.balance.total)),1)])]),_:1},8,["items","fields"])])])}}});export{dr as _};
//# sourceMappingURL=BotBalance.vue_vue_type_script_setup_true_lang-e1dbad12.js.map
