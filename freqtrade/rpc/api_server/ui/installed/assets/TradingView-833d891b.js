import{o as r,c as B,a as n,d as D,r as k,h as T,w as s,f as w,t as f,F as X,u as z,O as te,i as $,j as t,b as o,k as g,l as N,m as oe,J as ae,H as ne,q as le,n as se,s as j,v as ie,x as re,y as Y,$ as ee,K as J,z as de,A as ue,B as ce,C as _e,D as me,E as K,T as R,G as W,I as U,L as pe,M as ve}from"./index-aef5ad26.js";import{_ as fe}from"./BotBalance.vue_vue_type_script_setup_true_lang-e1dbad12.js";import{_ as be,T as Q}from"./TradeList-e1b97a1e.js";import{_ as G}from"./InfoBox.vue_vue_type_script_setup_true_lang-85060789.js";import{C as ye}from"./CandleChartContainer-98ae281e.js";import{D as he,a as H}from"./DraggableContainer-2e1d1533.js";import ge from"./FTBotAPIPairList-d348cea3.js";import{P as Be}from"./PairSummary-63efa9e5.js";import{T as ke}from"./TradeDetail-ad08c407.js";import"./install-b71822da.js";import"./createSeriesDataSimply-d0b9e3a1.js";import"./chartZoom-81ece22b.js";import"./EditValue.vue_vue_type_script_setup_true_lang-09e99154.js";import"./plus-box-outline-825c8b7c.js";const we={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xe=n("path",{fill:"currentColor",d:"M18 11h-3v3h-2v-3h-3V9h3V6h2v3h3m2-5v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12a2 2 0 0 0 2 2h12c1.11 0 2-.89 2-2V4a2 2 0 0 0-2-2M4 6H2v14a2 2 0 0 0 2 2h14v-2H4V6Z"},null,-1),Se=[xe];function $e(x,e){return r(),B("svg",we,Se)}const Ve={name:"mdi-plus-box-multiple-outline",render:$e},Te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ce=n("path",{fill:"currentColor",d:"M2 12a9 9 0 0 0 9 9c2.39 0 4.68-.94 6.4-2.6l-1.5-1.5A6.706 6.706 0 0 1 11 19c-6.24 0-9.36-7.54-4.95-11.95C10.46 2.64 18 5.77 18 12h-3l4 4h.1l3.9-4h-3a9 9 0 0 0-18 0Z"},null,-1),Le=[Ce];function Pe(x,e){return r(),B("svg",Te,Le)}const Fe={name:"mdi-reload",render:Pe},De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=n("path",{fill:"currentColor",d:"M14 19h4V5h-4M6 19h4V5H6v14Z"},null,-1),ze=[Ae];function Me(x,e){return r(),B("svg",De,ze)}const Oe={name:"mdi-pause",render:Me},Ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Re=n("path",{fill:"currentColor",d:"M18 18H6V6h12v12Z"},null,-1),Ue=[Re];function He(x,e){return r(),B("svg",Ke,Ue)}const Ee={name:"mdi-stop",render:He},qe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ne=n("path",{fill:"currentColor",d:"M8 5.14v14l11-7l-11-7Z"},null,-1),Ze=[Ne];function Ge(x,e){return r(),B("svg",qe,Ze)}const je={name:"mdi-play",render:Ge},Je=D({__name:"MessageBox",setup(x,{expose:e}){const c=k(!1),l=k(""),d=k(""),b=k(()=>{console.warn("Accepted not set.")}),y=()=>{b.value()};return e({show:m=>{l.value=m.title,d.value=m.message,c.value=!0,b.value=m.accept}}),(m,i)=>{const a=X;return r(),T(a,{ref:"removeTradeModal",modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=v=>c.value=v),title:l.value,onOk:y,onCancel:i[1]||(i[1]=v=>c.value=!1)},{default:s(()=>[w(f(d.value),1)]),_:1},8,["modelValue","title"])}}}),Ie=["onSubmit"],We=D({__name:"ForceEntryForm",props:{modelValue:{required:!0,default:!1,type:Boolean},pair:{type:String,default:""}},emits:["update:modelValue"],setup(x,{emit:e}){const c=x,l=z(),d=k(),b=k(""),y=k(void 0),_=k(void 0),m=k(void 0),i=k(""),a=k(te.long),v=k("force_entry"),P=[{value:"market",text:"Market"},{value:"limit",text:"Limit"}],M=[{value:"long",text:"Long"},{value:"short",text:"Short"}],A=$({get(){return c.modelValue},set(p){e("update:modelValue",p)}}),E=()=>{var u;return(u=d.value)==null?void 0:u.checkValidity()},V=async()=>{if(!E())return;const p={pair:b.value};y.value&&(p.price=Number(y.value)),i.value&&(p.ordertype=i.value),_.value&&(p.stakeamount=_.value),l.activeBot.botApiVersion>=2.13&&l.activeBot.shortAllowed&&(p.side=a.value),l.activeBot.botApiVersion>=2.16&&v.value&&(p.entry_tag=v.value),m.value&&(p.leverage=m.value),l.activeBot.forceentry(p),await se(),e("update:modelValue",!1)},S=()=>{var p,u,O,L,F,q,h,I;console.log("resetForm"),b.value=c.pair,y.value=void 0,_.value=void 0,i.value=((u=(p=l.activeBot.botState)==null?void 0:p.order_types)==null?void 0:u.forcebuy)||((L=(O=l.activeBot.botState)==null?void 0:O.order_types)==null?void 0:L.force_entry)||((q=(F=l.activeBot.botState)==null?void 0:F.order_types)==null?void 0:q.buy)||((I=(h=l.activeBot.botState)==null?void 0:h.order_types)==null?void 0:I.entry)||"limit"},C=()=>{V()},Z=p=>{var u;(u=p.srcElement)==null||u.select()};return(p,u)=>{const O=ae,L=ne,F=le,q=X;return r(),T(q,{id:"forceentry-modal",ref:"modal",modelValue:A.value,"onUpdate:modelValue":u[7]||(u[7]=h=>A.value=h),title:"Force entering a trade",onShow:S,onHidden:S,onOk:C},{default:s(()=>[n("form",{ref_key:"form",ref:d,onSubmit:oe(V,["stop","prevent"])},[t(l).activeBot.botApiVersion>=2.13&&t(l).activeBot.shortAllowed?(r(),T(L,{key:0,label:"Order direction (Long or Short)","label-for":"order-direction","invalid-feedback":"Order direction must be set",state:a.value!==void 0},{default:s(()=>[o(O,{id:"order-direction",modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=h=>a.value=h),options:M,name:"radios-btn-default",size:"sm",buttons:"",style:{"min-width":"10em"},"button-variant":"outline-primary"},null,8,["modelValue"])]),_:1},8,["state"])):g("",!0),o(L,{label:"Pair","label-for":"pair-input","invalid-feedback":"Pair is required",state:b.value!==void 0},{default:s(()=>[o(F,{id:"pair-input",modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=h=>b.value=h),required:"",onKeydown:N(C,["enter"]),onFocus:Z},null,8,["modelValue","onKeydown"])]),_:1},8,["state"]),o(L,{label:"*Price [optional]","label-for":"price-input","invalid-feedback":"Price must be empty or a positive number",state:!y.value||y.value>0},{default:s(()=>[o(F,{id:"price-input",modelValue:y.value,"onUpdate:modelValue":u[2]||(u[2]=h=>y.value=h),type:"number",step:"0.00000001",onKeydown:N(C,["enter"])},null,8,["modelValue","onKeydown"])]),_:1},8,["state"]),o(L,{label:`*Stake-amount in ${t(l).activeBot.stakeCurrency} [optional]`,"label-for":"stake-input","invalid-feedback":"Stake-amount must be empty or a positive number",state:!_.value||_.value>0},{default:s(()=>[o(F,{id:"stake-input",modelValue:_.value,"onUpdate:modelValue":u[3]||(u[3]=h=>_.value=h),type:"number",step:"0.000001",onKeydown:N(C,["enter"])},null,8,["modelValue","onKeydown"])]),_:1},8,["label","state"]),t(l).activeBot.botApiVersion>2.16&&t(l).activeBot.shortAllowed?(r(),T(L,{key:1,label:"*Leverage to apply [optional]","label-for":"leverage-input","invalid-feedback":"Leverage must be empty or a positive number",state:!m.value||m.value>0},{default:s(()=>[o(F,{id:"leverage-input",modelValue:m.value,"onUpdate:modelValue":u[4]||(u[4]=h=>m.value=h),type:"number",step:"0.01",onKeydown:N(C,["enter"])},null,8,["modelValue","onKeydown"])]),_:1},8,["state"])):g("",!0),o(L,{label:"OrderType","label-for":"ordertype-input","invalid-feedback":"OrderType",state:!0},{default:s(()=>[o(O,{id:"ordertype-input",modelValue:i.value,"onUpdate:modelValue":u[5]||(u[5]=h=>i.value=h),options:P,name:"radios-btn-orderType",buttons:"","button-variant":"outline-primary",style:{"min-width":"10em"},size:"sm"},null,8,["modelValue"])]),_:1}),t(l).activeBot.botApiVersion>1.16?(r(),T(L,{key:2,label:"*Custom entry tag Optional]","label-for":"enterTag-input"},{default:s(()=>[o(F,{id:"enterTag-input",modelValue:v.value,"onUpdate:modelValue":u[6]||(u[6]=h=>v.value=h),type:"text",name:"radios-btn-orderType"},null,8,["modelValue"])]),_:1})):g("",!0)],40,Ie)]),_:1},8,["modelValue"])}}}),Qe=["disabled"],Xe=["disabled"],Ye=["disabled"],et=["disabled"],tt=["disabled"],ot=["disabled"];const at=D({__name:"BotControls",setup(x){const e=z(),c=k(!1),l=k(),d=$(()=>{var i;return((i=e.activeBot.botState)==null?void 0:i.state)==="running"}),b=()=>{var a;const i={title:"Stop Bot",message:"Stop the bot loop from running?",accept:()=>{e.activeBot.stopBot()}};(a=l.value)==null||a.show(i)},y=()=>{var a;const i={title:"Stop Buying",message:"Freqtrade will continue to handle open trades.",accept:()=>{e.activeBot.stopBuy()}};(a=l.value)==null||a.show(i)},_=()=>{var a;const i={title:"Reload",message:"Reload configuration (including strategy)?",accept:()=>{console.log("reload..."),e.activeBot.reloadConfig()}};(a=l.value)==null||a.show(i)},m=()=>{var a;const i={title:"ForceExit all",message:"Really forceexit ALL trades?",accept:()=>{const v={tradeid:"all"};e.activeBot.forceexit(v)}};(a=l.value)==null||a.show(i)};return(i,a)=>{const v=je,P=Ee,M=Oe,A=Fe,E=be,V=Ve;return r(),B("div",null,[n("button",{class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading||d.value,title:"Start Trading",onClick:a[0]||(a[0]=S=>t(e).activeBot.startBot())},[o(v,{height:"24",width:"24"})],8,Qe),n("button",{class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading||!d.value,title:"Stop Trading - Also stops handling open trades.",onClick:a[1]||(a[1]=S=>b())},[o(P,{height:"24",width:"24"})],8,Xe),n("button",{class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading||!d.value,title:"StopBuy - Stops buying, but still handles open trades",onClick:a[2]||(a[2]=S=>y())},[o(M,{height:"24",width:"24"})],8,Ye),n("button",{class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading,title:"Reload Config - reloads configuration including strategy, resetting all settings changed on the fly.",onClick:a[3]||(a[3]=S=>_())},[o(A,{height:"24",width:"24"})],8,et),n("button",{class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading,title:"Force exit all",onClick:a[4]||(a[4]=S=>m())},[o(E,{height:"24",width:"24"})],8,tt),t(e).activeBot.botState&&t(e).activeBot.botState.force_entry_enable?(r(),B("button",{key:0,class:"btn btn-secondary btn-sm ms-1",disabled:!t(e).activeBot.isTrading||!d.value,title:"Force enter - Immediately enter a trade at an optional price. Exits are then handled according to strategy rules.",onClick:a[5]||(a[5]=S=>c.value=!0)},[o(V,{style:{"font-size":"20px"}})],8,ot)):g("",!0),(t(e).activeBot.isWebserverMode,g("",!0)),o(We,{modelValue:c.value,"onUpdate:modelValue":a[7]||(a[7]=S=>c.value=S),pair:t(e).activeBot.selectedPair},null,8,["modelValue","pair"]),o(Je,{ref_key:"msgBox",ref:l},null,512)])}}}),nt={key:0},lt={key:0},st=n("hr",null,null,-1),it={key:1},rt={key:0,class:"d-block"},dt={class:"d-block"},ut={class:"d-block"},ct={key:0,class:"d-block"},_t={key:1,class:"d-block"},mt=D({__name:"BotStatus",setup(x){const e=z();return(c,l)=>t(e).activeBot.botState?(r(),B("div",nt,[n("p",null,[w(" Running Freqtrade "),n("strong",null,f(t(e).activeBot.version),1)]),n("p",null,[w(" Running with "),n("strong",null,f(t(e).activeBot.botState.max_open_trades)+"x"+f(t(e).activeBot.botState.stake_amount)+" "+f(t(e).activeBot.botState.stake_currency),1),w(" on "),n("strong",null,f(t(e).activeBot.botState.exchange),1),w(" in "),n("strong",null,f(t(e).activeBot.botState.trading_mode||"spot"),1),w(" markets, with Strategy "),n("strong",null,f(t(e).activeBot.botState.strategy),1),w(". ")]),"stoploss_on_exchange"in t(e).activeBot.botState?(r(),B("p",lt,[w(" Stoploss on exchange is "),n("strong",null,f(t(e).activeBot.botState.stoploss_on_exchange?"enabled":"disabled"),1),w(". ")])):g("",!0),n("p",null,[w(" Currently "),n("strong",null,f(t(e).activeBot.botState.state),1),w(", "),n("strong",null,"force entry: "+f(t(e).activeBot.botState.force_entry_enable),1)]),n("p",null,[n("strong",null,f(t(e).activeBot.botState.dry_run?"Dry-Run":"Live"),1)]),st,n("p",null," Avg Profit "+f(t(j)(t(e).activeBot.profit.profit_all_ratio_mean))+" (∑ "+f(t(j)(t(e).activeBot.profit.profit_all_ratio_sum))+") in "+f(t(e).activeBot.profit.trade_count)+" Trades, with an average duration of "+f(t(e).activeBot.profit.avg_duration)+". Best pair: "+f(t(e).activeBot.profit.best_pair)+". ",1),t(e).activeBot.profit.first_trade_timestamp?(r(),B("p",it,[t(e).activeBot.profit.bot_start_timestamp?(r(),B("span",rt,[w(" Bot start date: "),n("strong",null,[o(G,{date:t(e).activeBot.profit.bot_start_timestamp,"show-timezone":""},null,8,["date"])])])):g("",!0),n("span",dt,[w(" First trade opened: "),n("strong",null,[o(G,{date:t(e).activeBot.profit.first_trade_timestamp,"show-timezone":""},null,8,["date"])])]),n("span",ut,[w(" Last trade opened: "),n("strong",null,[o(G,{date:t(e).activeBot.profit.latest_trade_timestamp,"show-timezone":""},null,8,["date"])])])])):g("",!0),n("p",null,[t(e).activeBot.profit.profit_factor?(r(),B("span",ct," Profit factor: "+f(t(e).activeBot.profit.profit_factor.toFixed(2)),1)):g("",!0),t(e).activeBot.profit.trading_volume?(r(),B("span",_t," Trading volume: "+f(t(ie)(t(e).activeBot.profit.trading_volume,t(e).activeBot.botState.stake_currency,t(e).activeBot.botState.stake_currency_decimals??3)),1)):g("",!0)])])):g("",!0)}}),pt={class:"mb-2"},vt=n("label",{class:"me-auto h3"},"Daily Stats",-1),ft=D({__name:"DailyStats",setup(x){const e=z(),c=$(()=>{const l=[{key:"date",label:"Day"},{key:"abs_profit",label:"Profit"},{key:"fiat_value",label:`In ${e.activeBot.dailyStats.fiat_display_currency}`},{key:"trade_count",label:"Trades"}];return e.activeBot.botApiVersion>=2.16&&l.push({key:"rel_profit",label:"Profit%",formatter:d=>j(d,2)}),l});return re(()=>{e.activeBot.getDaily()}),(l,d)=>{const b=Y,y=ee,_=J;return r(),B("div",null,[n("div",pt,[vt,o(y,{class:"float-end",size:"sm",onClick:t(e).activeBot.getDaily},{default:s(()=>[o(b)]),_:1},8,["onClick"])]),n("div",null,[t(e).activeBot.dailyStats.data?(r(),T(he,{key:0,"daily-stats":t(e).activeBot.dailyStatsSorted},null,8,["daily-stats"])):g("",!0)]),n("div",null,[o(_,{class:"table-sm",items:t(e).activeBot.dailyStats.data,fields:c.value},null,8,["items","fields"])])])}}}),bt={class:"mb-2"},yt=n("label",{class:"me-auto h3"},"Pair Locks",-1),ht=D({__name:"PairLockList",setup(x){const e=z(),c=[{key:"pair",label:"Pair"},{key:"lock_end_timestamp",label:"Until",formatter:d=>de(d)},{key:"reason",label:"Reason"},{key:"actions"}],l=d=>{console.log(d),d.id!==void 0?e.activeBot.deleteLock(d.id):ue("This Freqtrade version does not support deleting locks.")};return(d,b)=>{const y=Y,_=ee,m=ce,i=J;return r(),B("div",null,[n("div",bt,[yt,o(_,{class:"float-end",size:"sm",onClick:t(e).activeBot.getLocks},{default:s(()=>[o(y)]),_:1},8,["onClick"])]),n("div",null,[o(i,{class:"table-sm",items:t(e).activeBot.activeLocks,fields:c},{"cell(actions)":s(a=>[o(_,{class:"btn-xs ms-1",size:"sm",title:"Delete trade",onClick:v=>l(a.item)},{default:s(()=>[o(m)]),_:2},1032,["onClick"])]),_:1},8,["items"])])])}}}),gt=n("div",{class:"mb-2"},[n("h3",null,"Performance")],-1),Bt=D({__name:"BotPerformance",setup(x){const e=z(),c=$(()=>{var l;return[{key:"pair",label:"Pair"},{key:"profit",label:"Profit %"},{key:"profit_abs",label:`Profit ${(l=e.activeBot.botState)==null?void 0:l.stake_currency}`,formatter:d=>_e(d,5)},{key:"count",label:"Count"}]});return(l,d)=>{const b=J;return r(),B("div",null,[gt,o(b,{class:"table-sm",items:t(e).activeBot.performanceStats,fields:c.value},null,8,["items","fields"])])}}}),kt={class:"mt-1 d-flex justify-content-center"},Ot=D({__name:"TradingView",setup(x){const e=z(),c=me(),l=k(""),d=A=>{l.value=A},b=$(()=>["","sm","md","lg","xl"].includes(l.value)),y=$(()=>c.layoutLocked||!b.value),_=$(()=>b.value?c.tradingLayout:[...c.getTradingLayoutSm]),m=$(()=>K(_.value,R.multiPane)),i=$(()=>K(_.value,R.openTrades)),a=$(()=>K(_.value,R.tradeHistory)),v=$(()=>K(_.value,R.tradeDetail)),P=$(()=>K(_.value,R.chartView)),M=$(()=>({sm:c.getTradingLayoutSm}));return(A,E)=>{const V=pe,S=ve,C=W("grid-item"),Z=W("grid-layout");return r(),T(Z,{class:"h-100 w-100","row-height":50,layout:_.value,"vertical-compact":!1,margin:[5,5],"responsive-layouts":M.value,"is-resizable":!y.value,"is-draggable":!y.value,responsive:!0,cols:{lg:12,md:12,sm:12,xs:4,xxs:2},"col-num":12,"onUpdate:breakpoint":d},{default:s(({gridItemProps:p})=>[m.value.h!=0?(r(),T(C,U({key:0},p,{i:m.value.i,x:m.value.x,y:m.value.y,w:m.value.w,h:m.value.h,"drag-allow-from":".card-header"}),{default:s(()=>[o(H,{header:"Multi Pane"},{default:s(()=>[n("div",kt,[o(at,{class:"mt-1 mb-2"})]),o(S,{"content-class":"mt-3",class:"mt-1"},{default:s(()=>[o(V,{title:"Pairs combined",active:""},{default:s(()=>[o(Be,{pairlist:t(e).activeBot.whitelist,"current-locks":t(e).activeBot.activeLocks,trades:t(e).activeBot.openTrades},null,8,["pairlist","current-locks","trades"])]),_:1}),o(V,{title:"General"},{default:s(()=>[o(mt)]),_:1}),o(V,{title:"Performance"},{default:s(()=>[o(Bt,{class:"performance-view"})]),_:1}),o(V,{title:"Balance",lazy:""},{default:s(()=>[o(fe)]),_:1}),o(V,{title:"Daily Stats",lazy:""},{default:s(()=>[o(ft)]),_:1}),o(V,{title:"Pairlist",lazy:""},{default:s(()=>[o(ge)]),_:1}),o(V,{title:"Pair Locks",lazy:""},{default:s(()=>[o(ht)]),_:1})]),_:1})]),_:1})]),_:2},1040,["i","x","y","w","h"])):g("",!0),i.value.h!=0?(r(),T(C,U({key:1},p,{i:i.value.i,x:i.value.x,y:i.value.y,w:i.value.w,h:i.value.h,"drag-allow-from":".card-header"}),{default:s(()=>[o(H,{header:"Open Trades"},{default:s(()=>[o(Q,{class:"open-trades",trades:t(e).activeBot.openTrades,title:"Open trades","active-trades":!0,"empty-text":"Currently no open trades."},null,8,["trades"])]),_:1})]),_:2},1040,["i","x","y","w","h"])):g("",!0),a.value.h!=0?(r(),T(C,U({key:2},p,{i:a.value.i,x:a.value.x,y:a.value.y,w:a.value.w,h:a.value.h,"drag-allow-from":".card-header"}),{default:s(()=>[o(H,{header:"Closed Trades"},{default:s(()=>[o(Q,{class:"trade-history",trades:t(e).activeBot.closedTrades,title:"Trade history","show-filter":!0,"empty-text":"No closed trades so far."},null,8,["trades"])]),_:1})]),_:2},1040,["i","x","y","w","h"])):g("",!0),t(e).activeBot.detailTradeId&&t(e).activeBot.tradeDetail&&v.value.h!=0?(r(),T(C,U({key:3},p,{i:v.value.i,x:v.value.x,y:v.value.y,w:v.value.w,h:v.value.h,"min-h":4,"drag-allow-from":".card-header"}),{default:s(()=>[o(H,{header:"Trade Detail"},{default:s(()=>[o(ke,{trade:t(e).activeBot.tradeDetail,"stake-currency":t(e).activeBot.stakeCurrency},null,8,["trade","stake-currency"])]),_:1})]),_:2},1040,["i","x","y","w","h"])):g("",!0),v.value.h!=0?(r(),T(C,U({key:4},p,{i:P.value.i,x:P.value.x,y:P.value.y,w:P.value.w,h:P.value.h,"min-h":6,"drag-allow-from":".card-header"}),{default:s(()=>[o(H,{header:"Chart"},{default:s(()=>[o(ye,{"available-pairs":t(e).activeBot.whitelist,"historic-view":!1,timeframe:t(e).activeBot.timeframe,trades:t(e).activeBot.allTrades},null,8,["available-pairs","timeframe","trades"])]),_:1})]),_:2},1040,["i","x","y","w","h"])):g("",!0)]),_:1},8,["layout","responsive-layouts","is-resizable","is-draggable"])}}});export{Ot as default};
//# sourceMappingURL=TradingView-833d891b.js.map
