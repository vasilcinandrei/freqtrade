{"version":3,"file":"FTBotAPIPairList-d348cea3.js","sources":["../../src/components/ftbot/FTBotAPIPairList.vue"],"sourcesContent":["<template>\n  <!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n  <div>\n    <div>\n      <h3>Whitelist Methods</h3>\n\n      <div v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list\">\n        <b-list-group v-for=\"(method, key) in botStore.activeBot.pairlistMethods\" :key=\"key\">\n          <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n        </b-list-group>\n      </div>\n    </div>\n    <!-- Show Whitelist -->\n    <h3 :title=\"`${botStore.activeBot.whitelist.length} pairs`\">Whitelist</h3>\n    <div v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.whitelist\" :key=\"key\">\n        <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n      </b-list-group>\n    </div>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <hr />\n\n    <!-- Blacklsit -->\n    <div>\n      <label\n        class=\"me-auto h3\"\n        title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >Blacklist</label\n      >\n      <div class=\"float-end d-flex d-flex-columns pe-1\">\n        <b-button\n          id=\"blacklist-add-btn\"\n          class=\"me-1\"\n          :class=\"botStore.activeBot.botApiVersion >= 1.12 ? 'col-6' : ''\"\n          size=\"sm\"\n          ><i-mdi-plus-box-outline />\n        </b-button>\n        <b-button\n          v-if=\"botStore.activeBot.botApiVersion >= 1.12\"\n          size=\"sm\"\n          class=\"col-6\"\n          title=\"Select pairs to delete pairs from your blacklist.\"\n          :disabled=\"blacklistSelect.length === 0\"\n          @click=\"deletePairs\"\n        >\n          <i-mdi-delete />\n        </b-button>\n      </div>\n      <b-popover\n        title=\"Add to blacklist\"\n        target=\"blacklist-add-btn\"\n        triggers=\"click\"\n        :show=\"blackListShow\"\n      >\n        <form ref=\"form\" @submit.prevent>\n          <div>\n            <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n              <b-form-input\n                id=\"pair-input\"\n                v-model=\"newblacklistpair\"\n                required\n                autofocus\n              ></b-form-input>\n            </b-form-group>\n            <b-button\n              id=\"blacklist-submit\"\n              class=\"float-end mb-2\"\n              size=\"sm\"\n              type=\"submit\"\n              @click=\"addBlacklistPair\"\n            >\n              Add</b-button\n            >\n          </div>\n        </form>\n      </b-popover>\n    </div>\n    <div v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.blacklist\" :key=\"key\">\n        <b-list-group-item\n          class=\"pair black\"\n          :active=\"blacklistSelect.indexOf(key) > -1\"\n          @click=\"blacklistSelectClick(key)\"\n          ><span class=\"check\"><i-mdi-check-circle /></span>{{ pair }}</b-list-group-item\n        >\n      </b-list-group>\n    </div>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n    <!-- Pagination -->\n    <!-- TODO Add pagination support -->\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useBotStore } from '@/stores/ftbotwrapper';\nimport { onMounted, ref } from 'vue';\n\nconst newblacklistpair = ref('');\nconst blackListShow = ref(false);\nconst blacklistSelect = ref<number[]>([]);\nconst botStore = useBotStore();\n\nconst initBlacklist = () => {\n  if (botStore.activeBot.whitelist.length === 0) {\n    botStore.activeBot.getWhitelist();\n  }\n  if (botStore.activeBot.blacklist.length === 0) {\n    botStore.activeBot.getBlacklist();\n  }\n};\n\nconst addBlacklistPair = () => {\n  if (newblacklistpair.value) {\n    blackListShow.value = false;\n\n    botStore.activeBot.addBlacklist({ blacklist: [newblacklistpair.value] });\n    newblacklistpair.value = '';\n  }\n};\n\nconst blacklistSelectClick = (key) => {\n  console.log(key);\n  const index = blacklistSelect.value.indexOf(key);\n  if (index > -1) {\n    blacklistSelect.value.splice(index, 1);\n  } else {\n    blacklistSelect.value.push(key);\n  }\n};\n\nconst deletePairs = () => {\n  if (blacklistSelect.value.length === 0) {\n    console.log('nothing to delete');\n    return;\n  }\n  // const pairlist = blacklistSelect.value;\n  const pairlist = botStore.activeBot.blacklist.filter(\n    (value, index) => blacklistSelect.value.indexOf(index) > -1,\n  );\n  console.log('Deleting pairs: ', pairlist);\n  botStore.activeBot.deleteBlacklist(pairlist);\n  blacklistSelect.value = [];\n};\nonMounted(() => {\n  initBlacklist();\n});\n</script>\n\n<style scoped lang=\"scss\">\n.check {\n  // Hidden checkbox on blacklist selection\n  // background: white;\n  color: #41b883;\n  opacity: 0;\n  // border-radius: 50%;\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.3em;\n  left: -0.3em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n\n.list-group-item.active .check {\n  opacity: 1;\n}\n\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n\n.pair {\n  border: 1px solid #ccc;\n  background: #41b883;\n  padding: 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n}\n\n.white {\n  background: white;\n  color: black;\n}\n\n.black {\n  background: black;\n  color: white;\n}\n</style>\n"],"names":["newblacklistpair","ref","blackListShow","blacklistSelect","botStore","useBotStore","initBlacklist","addBlacklistPair","blacklistSelectClick","key","index","deletePairs","pairlist","value","onMounted"],"mappings":"+hCAiGA,MAAAA,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,EAAA,EACAE,EAAAF,EAAA,CAAA,CAAA,EACAG,EAAAC,IAEAC,EAAA,IAAA,CACEF,EAAA,UAAA,UAAA,SAAA,GACEA,EAAA,UAAA,eAEFA,EAAA,UAAA,UAAA,SAAA,GACEA,EAAA,UAAA,cACF,EAGFG,EAAA,IAAA,CACEP,EAAA,QACEE,EAAA,MAAA,GAEAE,EAAA,UAAA,aAAA,CAAA,UAAA,CAAAJ,EAAA,KAAA,CAAA,CAAA,EACAA,EAAA,MAAA,GACF,EAGFQ,EAAAC,GAAA,CACE,QAAA,IAAAA,CAAA,EACA,MAAAC,EAAAP,EAAA,MAAA,QAAAM,CAAA,EACAC,EAAA,GACEP,EAAA,MAAA,OAAAO,EAAA,CAAA,EAEAP,EAAA,MAAA,KAAAM,CAAA,CACF,EAGFE,EAAA,IAAA,CACE,GAAAR,EAAA,MAAA,SAAA,EAAA,CACE,QAAA,IAAA,mBAAA,EACA,MAAA,CAGF,MAAAS,EAAAR,EAAA,UAAA,UAAA,OAA8C,CAAAS,EAAAH,IAAAP,EAAA,MAAA,QAAAO,CAAA,EAAA,EACa,EAE3D,QAAA,IAAA,mBAAAE,CAAA,EACAR,EAAA,UAAA,gBAAAQ,CAAA,EACAT,EAAA,MAAA,EAAyB,EAE3B,OAAAW,EAAA,IAAA,CACER,GAAc,CAAA"}