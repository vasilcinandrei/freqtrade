import{o,c as h,a as C,d as V,u as $,i as S,z as g,s as M,h as u,w as P,W as w,U as A,j as m,f as L,t as q,b as N,k,Q as E,V as j,g as R}from"./index-aef5ad26.js";import{a as z,P as D}from"./InfoBox.vue_vue_type_script_setup_true_lang-85060789.js";const F={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},H=C("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"},null,-1),I=[H];function O(c,s){return o(),h("svg",F,I)}const Q={name:"mdi-lock",render:O},T=["title"],U=V({__name:"PairSummary",props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(c){const s=c,_=$(),B=S(()=>{const i=[];return s.pairlist.forEach(r=>{const e=s.trades.filter(a=>a.pair===r),n=s.currentLocks.filter(a=>a.pair===r);let l="",t;n.sort((a,x)=>a.lock_end_timestamp>x.lock_end_timestamp?-1:1),n.length>0&&([t]=n,l=`${g(t.lock_end_timestamp)} - ${t.reason}`);let d="",p=0,y=0;e.forEach(a=>{p+=a.profit_ratio,y+=a.profit_abs??0});const v=e.length,f=v?e[0]:void 0;e.length>0&&(d=`Current profit: ${M(p)}`),f&&(d+=`
Open since: ${g(f.open_timestamp)}`),i.push({pair:r,trade:f,locks:t,lockReason:l,profitString:d,profit:p,profitAbs:y,tradeCount:v})}),s.sortMethod==="profit"?i.sort((r,e)=>r.profit>e.profit?-1:1):i.sort((r,e)=>r.trade&&!e.trade?-1:r.trade&&e.trade?r.trade.trade_id>e.trade.trade_id?1:-1:!r.locks&&e.locks?-1:r.locks&&e.locks?r.locks.lock_end_timestamp>e.locks.lock_end_timestamp?1:-1:1),i});return(i,r)=>{const e=Q,n=j,l=w;return o(),u(l,null,{default:P(()=>[(o(!0),h(E,null,A(B.value,t=>(o(),u(n,{key:t.pair,button:"",class:"d-flex justify-content-between align-items-center py-1",active:t.pair===m(_).activeBot.selectedPair,title:`${t.pair} - ${t.tradeCount} trades`,onClick:d=>m(_).activeBot.selectedPair=t.pair},{default:P(()=>[C("div",null,[L(q(t.pair)+" ",1),t.locks?(o(),h("span",{key:0,title:t.lockReason},[N(e)],8,T)):k("",!0)]),t.trade&&!c.backtestMode?(o(),u(z,{key:0,trade:t.trade},null,8,["trade"])):k("",!0),c.backtestMode&&t.tradeCount>0?(o(),u(D,{key:1,"profit-ratio":t.profit,"profit-abs":t.profitAbs,"stake-currency":m(_).activeBot.stakeCurrency},null,8,["profit-ratio","profit-abs","stake-currency"])):k("",!0)]),_:2},1032,["active","title","onClick"]))),128))]),_:1})}}});const G=R(U,[["__scopeId","data-v-f9294618"]]);export{G as P};
//# sourceMappingURL=PairSummary-63efa9e5.js.map
